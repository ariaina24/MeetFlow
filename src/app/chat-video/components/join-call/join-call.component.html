<main>
  <section class="join-section" *ngIf="!videoService.callId()">
    <form class="join-call-form" (ngSubmit)="joinCall()">
      <div class="form-group">
        <label for="call-id">Rejoindre un appel</label>
        <input
          id="call-id"
          [formControl]="callIdControl"
          placeholder="Entrez l'ID de l'appel"
          class="input-field"
        />
        <div *ngIf="callIdControl.touched && callIdControl.hasError('required')" class="error">
          L'ID de l'appel est requis
        </div>
      </div>
      <div class="error" *ngIf="error()">{{ error() }}</div>
      <div class="buttons">
        <button type="submit" class="btn primary">Rejoindre</button>
        <button type="button" (click)="createCall()" class="btn secondary">Cr√©er un nouvel appel</button>
      </div>
    </form>
  </section>
  <section *ngIf="videoService.callId() as callId">
    <div class="call-id-info">
      <p>ID de l'appel : {{ callId }} <button (click)="copyCallId()" class="btn copy">Copier</button></p>
    </div>
    <app-video-conf *ngIf="videoService.call() as call" [call]="call"></app-video-conf>
  </section>
</main>
